(()=>{var e={930:e=>{"undefined"!=typeof BasePlugin&&(e.exports.v=BasePlugin),"undefined"!=typeof BaseComponent&&(e.exports.H=BaseComponent)}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};(()=>{"use strict";n.d(i,{default:()=>v});var e=n(930);function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n,i,r,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(i,r)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){s(o,i,r,a,u,"next",e)}function u(e){s(o,i,r,a,u,"throw",e)}a(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=y(e);if(t){var r=y(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return m(this,n)}}function m(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){p(i,e);var t,n=d(i);function i(){return u(this,i),n.apply(this,arguments)}return l(i,[{key:"onLoad",value:function(){this.objects.registerComponent(b,{id:"quiz-component",name:"Quiz Multiple Questions",description:"Creates a multiple-choice quiz when the object is clicked.",settings:function(e){return[{id:"quizTitle",name:"Quiz Title",type:"text",help:"Title of the quiz.",default:"Multiple Choice Quiz"},{id:"questions",name:"Questions",type:"textarea",help:"JSON string representing quiz questions and choices."},{id:"section-end-message",name:"Quiz Game Over Messages",type:"section"},{id:"endMessageWin",name:"Game Over Win",type:"textarea",help:"Message to display at the end when user gets all the answers correct.",default:"Congratulations! You answered all questions correctly!"},{id:"endMessageLose",name:"Game Over Lose",type:"textarea",help:"Message to display at the end when user gets any answers wrong.",default:"Keep practicing to improve your score."},{id:"gameOverModal",name:"Quiz Aready Taken",type:"textarea",help:"If the quiz cannot be retaken, this message appears once completed.",default:"You have already taken this quiz."},{id:"section-analytics",name:"Quiz Analytics & Action Setup",type:"section"},{id:"action-id",name:"Trigger Action ID",type:"text",help:"Trigger an action when the quiz has been completed successfully, based on a unique ID.",default:"none"},{id:"analyticsKey",name:"Analytics Name",type:"text",help:"Name for the analytics event. The value sent will be equal to the number of correct answers."},{id:"limitResponse",name:"Limit Replay After:",type:"select",values:["None","Any Finish","All Correct"],help:'When an option is selected, the quiz cannot be re-taken after the finishing the quiz or after answering all correctly. "Quiz Taken" state is tracked by Analytics Name.',default:"None"},{id:"section-timer",name:"Quiz Timer Settings",type:"section"},{id:"timerOn",name:"Timer Enabled",type:"checkbox",help:"Enable or Disable the Timer feature.",default:!1},{id:"timerDuration",name:"Timer Duration",type:"number",help:"Time in seconds for each question.",default:10},{id:"section-helpguide",name:"Quiz Creator Help Guide",type:"section"},{id:"helpGuide",name:"Help Guide",type:"button",help:"Provide instructions or a guide for the quiz"}]}}),this.objects.registerComponent(z,{id:"single-quiz-component",name:"Quiz Single Question",description:"Creates a single question multiple-choice quiz when the object is clicked. If multiple questions are provided, the question can be randomized.",settings:function(e){return[{id:"quizTitle",name:"Quiz Title",type:"text",help:"Title of the quiz.",default:"Pop Quiz"},{id:"questions",name:"Question",type:"textarea",help:"JSON string representing quiz question and choices. By default the single question quiz will use the first question provided."},{id:"question-random",name:"Randomize Question",type:"checkbox",help:"If multiple questions are provided, this will randomize the single question that appears.",default:!1},{id:"section-end-message",name:"Quiz Game Over Messages",type:"section"},{id:"endMessageWin",name:"Game Over Win",type:"textarea",help:"Message to display at the end when user gets all the answers correct.",default:"Congratulations! You answered correctly!"},{id:"endMessageLose",name:"Game Over Lose",type:"textarea",help:"Message to display at the end when user gets any answers wrong.",default:"Try again next time."},{id:"gameOverModal",name:"Quiz Aready Taken",type:"textarea",help:"If the quiz cannot be retaken, this message appears once completed.",default:"You have already taken this quiz."},{id:"section-analytics",name:"Quiz Analytics & Action Setup",type:"section"},{id:"action-id",name:"Trigger Action ID",type:"text",help:"Trigger an action when the quiz has been completed successfully, based on a unique ID.",default:"none"},{id:"analyticsKey",name:"Analytics Name",type:"text",help:"Name for the analytics event. The value sent will be equal to the number of correct answers."},{id:"limitResponse",name:"Limit Replay After:",type:"select",values:["None","Any Finish","All Correct"],help:'When an option is selected, the quiz cannot be re-taken after the finishing the quiz or after answering all correctly. "Quiz Taken" state is tracked by Analytics Name.',default:"None"},{id:"section-timer",name:"Quiz Timer Settings",type:"section"},{id:"timerOn",name:"Timer Enabled",type:"checkbox",help:"Enable or Disable the Timer feature.",default:!1},{id:"timerDuration",name:"Timer Duration",type:"number",help:"Time in seconds for each question.",default:10},{id:"section-helpguide",name:"Quiz Creator Help Guide",type:"section"},{id:"helpGuide",name:"Help Guide",type:"button",help:"Provide instructions or a guide for the quiz"}]}}),this.objects.registerComponent(D,{id:"activity-simplequiz",name:"Activity: Simple Quiz",description:"A single question Quiz"})}},{key:"onMessage",value:(t=a(regeneratorRuntime.mark((function e(t){var n,i,r,o,s,a,u,c,l,p,h,d,m,f,y,v,b=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Message received in Quiz plugin: ",t),t.action,t.result,n=t.response,i=t.correctAnswer,t.analytics,t.allCorrect,t.limitResponse,r=t.actionID,t.popupID,t.IS_ACTIVITY,o=t.adminUser,s=t.zoneID,a=t.options,"send-results"!=t.action){e.next=43;break}if(!t.isActivityComponent){e.next=13;break}return e.next=6,this.user.getID();case 6:return u=e.sent,a.response=n,a.correctAnswer=i,c={activityType:"quiz",activityID:r,adminUser:o,zoneID:s||null,options:a||{},respondingUserId:u,result:p,response:n,correctAnswer:i},this.hooks.trigger("activity-response",c),t.popupID&&setTimeout((function(){return b.menus.closePopup(t.popupID)}),3e3),e.abrupt("return");case 13:return e.next=15,t.analytics;case 15:return l=e.sent,e.next=18,t.result;case 18:return p=e.sent,e.next=21,t.allCorrect;case 21:return h=e.sent,e.next=24,t.limitResponse;case 24:return d=e.sent,e.next=27,t.actionID;case 27:return m=e.sent,e.next=30,this.user.getID();case 30:return f=e.sent,e.next=33,t.popupID;case 33:if(y=e.sent,this.user.sendAnalytics(l,p),!0===h&&this.hooks.trigger("jeffworld.actions.play",{actionID:m,userID:f,allCorrect:h}),v="quiz"+l,!("Any Finish"===d||"All Correct"===d&&h)){e.next=41;break}return e.next=41,this.user.setProperties(g({},v,!0));case 41:setTimeout((function(){b.menus.closePopup(y)}),2e3);case 43:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),i}(e.v);g(v,"id","multiple-choice-quiz"),g(v,"name","Multiple Choice Quiz Plugin"),g(v,"description","Creates a multiple-choice quiz when the component is clicked.");var b=function(e){p(r,e);var t,n,i=d(r);function r(){return u(this,r),i.apply(this,arguments)}return l(r,[{key:"onClick",value:(n=a(regeneratorRuntime.mark((function e(){var t,n,i,r,o,s,a,u,c,l,p,h,d,m=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getField("limitResponse"),n="quiz"+this.getField("analyticsKey"),e.next=4,this.plugin.user.getProperty("",n);case 4:if(i=e.sent,r=this.getField("gameOverModal"),void 0!==i){e.next=12;break}return e.next=9,this.plugin.user.setProperties(g({},n,!1));case 9:return e.next=11,this.plugin.user.getProperty("",n);case 11:i=e.sent;case 12:if("Any Finish"!==t&&"All Correct"!==t||!0!==i){e.next=15;break}return this.plugin.menus.toast({text:r||"You have already taken this quiz.",duration:3e3}),e.abrupt("return");case 15:if(!this.isPopupOpen){e.next=17;break}return e.abrupt("return");case 17:return o=this.getField("analyticsKey"),e.prev=18,s=this.getField("questions"),a=JSON.parse(s),u=this.getField("quizTitle"),c=this.getField("endMessageWin")||"Congratulations! You answered all questions correctly!",l=this.getField("endMessageLose")||"Keep practicing to improve your score.",this.getField("timerOn"),p=this.getField("timerDuration"),h=this.getField("action-id"),this.isPopupOpen=!0,e.next=30,this.plugin.user.getProperty("","quiz"+o);case 30:return e.sent,e.next=33,this.plugin.menus.displayPopup({title:"Multiple Choice Quiz",panel:{iframeURL:this.paths.absolute("./quiz-panel.html"),width:500,height:500,onClose:function(){m.isPopupOpen=!1}}});case 33:d=e.sent,setTimeout((function(){m.plugin.menus.postMessage({action:"update-quiz",content:a,analytics:o,limitResponse:t,quizTitle:u,endMessageWin:c,endMessageLose:l,timerOn:!0,timerDuration:p,popupID:d,actionID:h})}),600),e.next=41;break;case 37:e.prev=37,e.t0=e.catch(18),console.error("Error parsing questions:",e.t0),this.isPopupOpen=!1;case 41:case"end":return e.stop()}}),e,this,[[18,37]])}))),function(){return n.apply(this,arguments)})},{key:"onAction",value:(t=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("helpGuide"!=t){e.next=3;break}return e.next=3,this.plugin.menus.displayPopup({title:"Quiz Creator Help Guide",panel:{iframeURL:this.paths.absolute("./help-panel.html"),width:720,height:640,onClose:function(){}}});case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(e.H),z=function(e){p(r,e);var t,n,i=d(r);function r(){return u(this,r),i.apply(this,arguments)}return l(r,[{key:"onClick",value:(n=a(regeneratorRuntime.mark((function e(){var t,n,i,r,o,s,a,u,c,l,p,h,d,m,f,y,v,b=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getField("limitResponse"),n="quiz"+this.getField("analyticsKey"),e.next=4,this.plugin.user.getProperty("",n);case 4:if(i=e.sent,r=this.getField("gameOverModal"),o={},void 0!==i){e.next=13;break}return e.next=10,this.plugin.user.setProperties(g({},n,!1));case 10:return e.next=12,this.plugin.user.getProperty("",n);case 12:i=e.sent;case 13:if("Any Finish"!==t&&"All Correct"!==t||!0!==i){e.next=16;break}return this.plugin.menus.toast({text:r||"You have already taken this quiz.",duration:3e3}),e.abrupt("return");case 16:if(!this.isPopupOpen){e.next=18;break}return e.abrupt("return");case 18:return s=this.getField("analyticsKey"),e.prev=19,a=this.getField("questions"),u=JSON.parse(a),c=this.getField("question-random"),l=this.getField("quizTitle"),p=this.getField("endMessageWin")||"Congratulations! You answered correctly!",h=this.getField("endMessageLose")||"Try again next time",d=this.getField("timerOn"),m=this.getField("timerDuration"),f=this.getField("limitResponse"),y=this.getField("action-id"),this.isPopupOpen=!0,e.next=33,this.plugin.menus.displayPopup({title:"Popup Quiz",panel:{iframeURL:this.paths.absolute("./quiz-panel-singlequestion.html"),width:500,height:500,onClose:function(){b.isPopupOpen=!1}}});case 33:v=e.sent,setTimeout((function(){b.plugin.menus.postMessage({action:"update-quiz",content:u,randomQuestion:c,analytics:s,limitResponse:f,quizTitle:l,endMessageWin:p,endMessageLose:h,timerOn:d,timerDuration:m,options:o,popupID:v,actionID:y})}),500),e.next=41;break;case 37:e.prev=37,e.t0=e.catch(19),console.error("Error parsing questions:",e.t0),this.isPopupOpen=!1;case 41:case"end":return e.stop()}}),e,this,[[19,37]])}))),function(){return n.apply(this,arguments)})},{key:"onAction",value:(t=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"helpGuide"==t&&this.plugin.menus.displayPopup({title:"Quiz Creator Help Guide",panel:{iframeURL:this.paths.absolute("./help-panel.html"),width:720,height:640,onClose:function(){}}});case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(e.H),D=function(e){p(h,e);var t,n,i,r,s,c=d(h);function h(){var e;u(this,h);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return g(f(e=c.call.apply(c,[this].concat(n))),"myUserID",null),g(f(e),"activityDescribe",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t&&t.componentID;return n&&!n.endsWith(":".concat(e.constructor.id))||null!=t&&t.zoneID&&t.zoneID!==e.objectID?null:(console.log("[ALERTNESS] describe called on",e.objectID||"(no object)","returns type=alertness"),{type:"simplequiz",title:"Which answer is correct?",shortTitle:"Quiz",description:"A simple multiple-choice quiz",icon:e.paths.absolute("icons/quiz.svg"),supportsDuration:!0,optionsSchema:{type:"object",properties:{title:{type:"string",title:"Question",default:"Which is the Correct Answer?"},answerChoices:{ui:"group",type:"object",title:"Answer Choices",order:["A","B","C","D"],properties:{A:{type:"string",default:"",placeholder:"Option A"},B:{type:"string",default:"",placeholder:"Option B"},C:{type:"string",default:"",placeholder:"Option C (optional)"},D:{type:"string",default:"",placeholder:"Option D (optional)"}}},correctAnswer:{enum:["A","B","C","D"],title:"Correct Answer",default:"A"},duration:{type:"number",title:"Duration (ms)",default:1e4,minimum:1e3}}},componentID:"".concat(e.plugin.constructor.id,":").concat(e.constructor.id),zoneID:e.objectID||null,vendor:e.plugin&&e.plugin.constructor&&e.plugin.constructor.id||null})})),g(f(e),"activityStart",function(){var t=a(regeneratorRuntime.mark((function t(n){var i,r,o,s,a,u,c,l,p,h,d,m,f,y,g,v,b,z,D,w,I;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("[QUIZ ACTIVITY] ActivityStart ",n),t.t0=e.myUserID,t.t0){t.next=6;break}return t.next=5,e.plugin.user.getID();case 5:t.t0=t.sent;case 6:if(i=t.t0,r="simplequiz"===(null==n?void 0:n.type),o="string"==typeof(null==n?void 0:n.componentID)&&n.componentID.endsWith(":activity-simplequiz"),r||o){t.next=11;break}return t.abrupt("return",!1);case 11:if(null==n||!n.targetUserId||n.targetUserId===i){t.next=13;break}return t.abrupt("return",!1);case 13:if(null==n||!n.zoneID||n.zoneID===e.objectID){t.next=15;break}return t.abrupt("return",!1);case 15:return s=n.activityID,a=n.adminUser,u=n.zoneID,c=n.options,l=void 0===c?{}:c,console.log("[QUIZ ACTIVITY] Started with options:",l),p=e.buildQuestionsFromOptions(l),h=Math.max(1,Number(l.duration||6e3)),d=!0,m=h/1e3,f=!1,y=!1,g=String(l.title||"Quiz"),v="Congratulations! You answered correctly!",b="Sorry, that's incorrect.",z=s,D=!0,t.next=30,e.plugin.menus.displayPopup({title:g,panel:{iframeURL:e.paths.absolute("./quiz-panel-singlequestion.html"),width:500,height:500,onClose:function(){e.isPopupOpen=!1}}});case 30:return w=t.sent,e.isPopupOpen=!0,I={content:p,randomQuestion:f,limitResponse:y,quizTitle:g,endMessageWin:v,endMessageLose:b,timerOn:d,timerDuration:m,popupID:w,actionID:z,isActivityComponent:D,adminUser:a,zoneID:u,options:l},setTimeout((function(){e.updatePanelContent(I)}),400),t.abrupt("return",!0);case 35:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return l(h,[{key:"buildQuestionsFromOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=String(e.question||e.title||"Untitled question"),n=Array.isArray(e.answers)?e.answers:Array.isArray(e.answerChoices)?e.answerChoices:[e.optionA,e.optionB,e.optionC,e.optionD],i=(n=Array.isArray(n)?n:[]).map((function(e,t){return{text:null==e?"":String(e).trim(),i:t}})).filter((function(e){return e.text.length>0})),r={A:0,B:1,C:2,D:3},o=0;if("number"==typeof e.correct&&Number.isFinite(e.correct))o=e.correct;else if(null!=e.correctAnswer){var s,a=String(e.correctAnswer).trim().toUpperCase();o=null!==(s=r[a])&&void 0!==s?s:0}else if(null!=e.correctChoice){var u,c=String(e.correctChoice).trim().toUpperCase();o=null!==(u=r[c])&&void 0!==u?u:0}var l=0,p=i.findIndex((function(e){return e.i===o}));if(l=p>=0?p:0,i.length<2){for(var h=["Option 1","Option 2","Option 3","Option 4"],d=0;i.length<2&&d<h.length;d++)i.push({text:h[d],i:100+d});l>=i.length&&(l=0)}var m=i.map((function(e){return e.text}));return[{question:t,choices:m,correct:l}]}},{key:"updatePanelContent",value:(s=a(regeneratorRuntime.mark((function e(t){var n,i,r,o,s,a,u,c,l,p,h,d,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.content,i=t.randomQuestion,r=t.limitResponse,o=t.quizTitle,s=t.endMessageWin,a=t.endMessageLose,u=t.timerOn,c=t.timerDuration,l=t.popupID,p=t.activityID,h=t.isActivityComponent,d=t.adminUser,m=t.zoneID,f=t.options,this.plugin.menus.postMessage({action:"update-quiz",content:n,randomQuestion:i,limitResponse:r,quizTitle:o,endMessageWin:s,endMessageLose:a,timerOn:u,timerDuration:c,popupID:l,activityID:p,isActivityComponent:h,adminUser:d,zoneID:m,options:f}),console.log("[Update Panel Content]",t);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"sendResponse",value:(r=a(regeneratorRuntime.mark((function e(t,n){var i,r,s,a,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.activityID,r=t.adminUser,s=t.zoneID,a=t.options,u=void 0===a?{}:a,e.t0=this.myUserID,e.t0){e.next=6;break}return e.next=5,this.plugin.user.getID();case 5:e.t0=e.sent;case 6:c=e.t0,this.plugin.messages.send({action:"activity-response",global:!0,payload:{activityType:"quiz",activityID:i,zoneID:s,options:o(o({},u),{},{respondingUserId:c}),respondingUserId:c,response:n}},!0,r);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"onMessage",value:(i=a(regeneratorRuntime.mark((function e(t){var n,i,r,s,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Message received in Aquiz Activity Component: ",t),"send-results"===(null==t?void 0:t.action)){e.next=12;break}if(String(t.actionID||"").startsWith("quiz-")){e.next=5;break}return e.abrupt("return",!1);case 5:return n=t.zoneID||this.objectID||null,i=t.options||{},r=t.result||{},s=o(o({},r),{},{allCorrect:!!t.allCorrect}),e.next=11,this.sendResponse({activityID,adminUser:null,zoneID:n,options:i},s);case 11:t.popupID&&setTimeout((function(){return a.plugin.menus.closePopup(t.popupID)}),200);case 12:return"request-quiz"===t.action&&this.updatePanelContent(t),e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"onLoad",value:(n=a(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.plugin.user.getID();case 2:this.myUserID=e.sent,this.plugin.hooks.addHandler("vatom-activities-start",this.activityStart),this.plugin.hooks.addHandler("vatom-activities-info",this.activityDescribe),t=this.objectID||"(no object id)",console.log("[QUIZ ACTIVITY] Loaded on",t,"user",this.myUserID),console.log("[QUIZ ACTIVITY] onLoad → handlers registered. objectID=",this.objectID||"(no object)");case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onUnload",value:(t=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.plugin.hooks.removeHandler("vatom-activities-start",this.activityStart),this.plugin.hooks.removeHandler("vatom-activities-info",this.activityDescribe);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),h}(e.H);g(D,"id","activity-simplequiz"),g(D,"name","Simple Quiz")})(),module.exports=i.default})();