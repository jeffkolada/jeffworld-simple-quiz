(()=>{var e={930:e=>{"undefined"!=typeof BasePlugin&&(e.exports.v=BasePlugin),"undefined"!=typeof BaseComponent&&(e.exports.H=BaseComponent)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};(()=>{"use strict";n.d(o,{default:()=>h});var e=n(930);function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t,n,o,r,i,u){try{var c=e[i](u),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(o,r)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=f(e);if(t){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){s(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return c(n,[{key:"onLoad",value:function(){this.objects.registerComponent(d,{id:"quiz-component",name:"Quiz Component",description:"Creates a multiple-choice quiz when the component is clicked.",settings:function(e){return[{id:"quizTitle",name:"Quiz Title",type:"text",help:"Title of the quiz."},{id:"questions",name:"Questions",type:"textarea",help:"JSON string representing quiz questions and choices."}]}})}}]),n}(e.v);y(h,"id","multiple-choice-quiz"),y(h,"name","Multiple Choice Quiz Plugin"),y(h,"description","Creates a multiple-choice quiz when the component is clicked.");var d=function(e){s(u,e);var t,n,o=p(u);function u(){return i(this,u),o.apply(this,arguments)}return c(u,[{key:"onClick",value:(t=regeneratorRuntime.mark((function e(){var t,n,o,r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.getField("questions"),n=JSON.parse(t),o=this.getField("quizTitle"),e.next=6,this.plugin.menus.displayPopup({title:"Multiple Choice Quiz",panel:{iframeURL:this.paths.absolute("./quiz-panel-v2.html"),width:600,height:600,onClose:function(){console.log("Popup closed")}}});case 6:r=e.sent,setTimeout((function(){i.plugin.menus.postMessage({action:"update-quiz",content:n,quizTitle:o,popupID:r})}),500),console.log("Popup ID:",r),console.log("Question Sent:",n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error parsing questions:",e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})),n=function(){var e=this,n=arguments;return new Promise((function(o,i){var u=t.apply(e,n);function c(e){r(u,o,i,c,s,"next",e)}function s(e){r(u,o,i,c,s,"throw",e)}c(void 0)}))},function(){return n.apply(this,arguments)})}]),u}(e.H)})(),module.exports=o.default})();